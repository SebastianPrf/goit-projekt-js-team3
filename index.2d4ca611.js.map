{"mappings":"AAAA,MAAMA,EAAkBC,SAASC,cAAc,kBAEzCC,EAAU,mCACVC,EAAW,+BAEXC,EAAkB,qBAIxBC,eAA2BC,GACzB,MAAMC,QAAiBC,MAAM,GAAGL,8BAAqCD,UAAgBI,KAC/EG,QAAoBF,EAASG,OAEnC,OADAC,QAAQC,IAAIH,EAAYI,SACjBJ,EAAYI,OACrB,EAqCAC,CA5CW,GA6CRC,MApCHV,eAAiCW,GAC/B,MAAMC,QA4BRZ,iBACE,MAAME,QAAiBC,MAAM,GAAGL,KAAYC,aAA2BF,KAEvE,aADmBK,EAASG,QAChBO,MACd,CAhCuBC,GAEfC,EAASH,EACZI,KAAI,EAACC,YAAEA,EAAWC,MAAEA,EAAKC,KAAEA,EAAIC,UAAEA,EAASC,aAAEA,EAAYC,eAAEA,MACzD,MASMC,EAAaL,GAAgBC,EACnC,MAAO,qHAEkEF,0BAAoCM,0BACjGA,0BAbQH,EACjBJ,KAAIQ,IACH,MAAMC,EAAQZ,EAAOa,MAAKD,GAASA,EAAME,KAAOH,IAChD,OAAOC,EAAQA,EAAMN,KAAO,IAAI,IAEjCS,QAAOC,GAAaA,IACpBC,KAAK,8BAEaT,GAAgBC,GAAkB,eAAeS,MAAM,EAAG,mCAS5E,IAEJD,KAAK,IAER,OAAOnC,EAAgBqC,mBAAmB,YAAajB,EACzD,IAUGkB,OAAMC,GAAS3B,QAAQ2B,MAAMA,KCrD/B,MACG,MAAMC,EAAO,CACTC,aAAcxC,SAASC,cAAc,qBACrCwC,cAAezC,SAASC,cAAc,sBACtCyC,MAAO1C,SAASC,cAAc,iBAKlCsC,EAAKE,cAAcE,iBAAiB,SAEpC,WACIJ,EAAKG,MAAME,UAAUC,OAAO,YAChC,GACJ,EAdC","sources":["src/js/fetch-data.js","src/js/modal.js"],"sourcesContent":["const galleryOfMovies = document.querySelector('.movie-gallery');\n\nconst API_KEY = '50faffa66bb05e881b7f3de0b265b30c';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst MAIN_PAGE_PATH = '/trending/all/day';\nconst GENRE_LIST_PATH = `/genre/movie/list`;\n\nlet page = 1;\n\nasync function fetchMovies(page) {\n  const response = await fetch(`${BASE_URL}${MAIN_PAGE_PATH}?api_key=${API_KEY}&page=${page}`);\n  const fetchMovies = await response.json();\n  console.log(fetchMovies.results);\n  return fetchMovies.results;\n}\n\nasync function renderMoviesCards(movies) {\n  const genres = await fetchGenres();\n\n  const markup = movies\n    .map(({ poster_path, title, name, genre_ids, release_date, first_air_date }) => {\n      const movieGenres = genre_ids\n        .map(genreId => {\n          const genre = genres.find(genre => genre.id === genreId);\n          return genre ? genre.name : null;\n        })\n        .filter(genreName => genreName)\n        .join(', ');\n\n      const releaseDate = (release_date || first_air_date || 'Brak danych').slice(0, 4);\n      const movieTitle = title ? title : name;\n      return `\n          <li class=\"movie-card\">\n            <img class=\"movie-card__img\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" loading=\"lazy\" alt=\"${movieTitle}\" />\n            <h2>${movieTitle}</h2>\n            <p>${movieGenres}</p>\n            <p>${releaseDate}</p>\n          </li>\n        `;\n    })\n    .join('');\n\n  return galleryOfMovies.insertAdjacentHTML('beforeend', markup);\n}\n\nasync function fetchGenres() {\n  const response = await fetch(`${BASE_URL}/${GENRE_LIST_PATH}?api_key=${API_KEY}`);\n  const data = await response.json();\n  return data.genres;\n}\n\nfetchMovies(page)\n  .then(renderMoviesCards)\n  .catch(error => console.error(error));\n\nexport { fetchMovies, renderMoviesCards, fetchGenres };\n","(() => {\n    const refs = {\n        openModalBtn: document.querySelector(\"[data-modal-open]\"),\n        closeModalBtn: document.querySelector(\"[data-modal-close]\"),\n        modal: document.querySelector(\"[data-modal]\"),\n    };\n\n    // refs.openModalBtn.addEventListener(\"click\", toggleModal); \n    // do uruchomienia po napisaniu otwierania okienek\n    refs.closeModalBtn.addEventListener(\"click\", toggleModal);\n\n    function toggleModal() {\n        refs.modal.classList.toggle(\"is-hidden\");\n    }\n})();"],"names":["$9605285e09c010c6$var$galleryOfMovies","document","querySelector","$9605285e09c010c6$var$API_KEY","$9605285e09c010c6$var$BASE_URL","$9605285e09c010c6$var$GENRE_LIST_PATH","async","page","response","fetch","fetchMovies","json","console","log","results","$9605285e09c010c6$export$88181abcadffafee","then","movies","genres","$9605285e09c010c6$export$e95d448b93b2cdb","markup","map","poster_path","title","name","genre_ids","release_date","first_air_date","movieTitle","genreId","genre","find","id","filter","genreName","join","slice","insertAdjacentHTML","catch","error","refs","openModalBtn","closeModalBtn","modal","addEventListener","classList","toggle"],"version":3,"file":"index.2d4ca611.js.map"}