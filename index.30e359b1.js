function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},o=n.parcelRequired7c6;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},n.parcelRequired7c6=o),o.register("ifJdc",(function(t,n){var r,a;e(t.exports,"register",(()=>r),(e=>r=e)),e(t.exports,"resolve",(()=>a),(e=>a=e));var o={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},a=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("ifJdc").register(JSON.parse('{"eFRlh":"index.30e359b1.js","625wv":"no-poster-available.19417c1b.jpg","bSbOs":"index.ef3e2a7c.css"}'));var i;i=new URL(o("ifJdc").resolve("625wv"),import.meta.url).toString();const l=document.querySelector(".movie-gallery"),c="50faffa66bb05e881b7f3de0b265b30c",s="https://api.themoviedb.org/3",d="/genre/movie/list";async function u(e){const t=await fetch(`${s}/trending/all/day?api_key=${c}&page=${e}`),n=await t.json();return console.log(n.results),n.results}async function f(e){const n=await async function(){const e=await fetch(`${s}/${d}?api_key=${c}`);return(await e.json()).genres}(),r=e.map((({poster_path:e,title:r,name:a,genre_ids:o,release_date:l,first_air_date:c})=>{const s=o.map((e=>{const t=n.find((t=>t.id===e));return t?t.name:null})).filter((e=>e)).join(", "),d=(l||c||"").slice(0,4),u=r||a;return`\n          <li class="movie-card">\n            <img class="movie-card__img" src="${null!=e?`https://image.tmdb.org/t/p/w500${e}`:t(i)}" loading="lazy" alt="${u}" />\n            <h2 class="movie-card__heading">${u}</h2>\n            <span class="movie-card__caption">${s} | ${d}</span>\n          </li>\n          `})).join("");return l.insertAdjacentHTML("beforeend",r)}u(1).then(f).catch((e=>console.error(e)));const p=document.querySelector(".movie-gallery"),m=document.querySelector(".search-form__input");document.querySelector(".search-form__button").addEventListener("click",(async function(e){e.preventDefault();const t=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=50faffa66bb05e881b7f3de0b265b30c&query=${m.value}&page=1`),n=await t.json();return u(m.value).then(f(n.results)).catch((e=>{p.innerHTML="",alert("No results")})).finally(p.innerHTML=""),p.innerHTML=n.query[0]}));(()=>{const e={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};e.closeModalBtn.addEventListener("click",(function(){e.modal.classList.toggle("is-hidden")}))})();
//# sourceMappingURL=index.30e359b1.js.map
