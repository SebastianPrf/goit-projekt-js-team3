const e=document.querySelector(".movie-gallery"),t="50faffa66bb05e881b7f3de0b265b30c",n="https://api.themoviedb.org/3",a="/genre/movie/list";async function o(e){const a=await fetch(`${n}/trending/all/day?api_key=${t}&page=${e}`),o=await a.json();return console.log(o.results),o.results}async function r(o){const r=await async function(){const e=await fetch(`${n}/${a}?api_key=${t}`);return(await e.json()).genres}(),c=o.map((({poster_path:e,title:t,name:n,genre_ids:a,release_date:o,first_air_date:c})=>{const i=t||n;return`\n        <li class="movie-card">\n          <img class="movie-card__img" src="https://image.tmdb.org/t/p/w500${e}" loading="lazy" alt="${i}" />\n          <h2 class="movie-card__heading">${i}</h2>\n          <span class="movie-card__caption">${a.map((e=>{const t=r.find((t=>t.id===e));return t?t.name:null})).filter((e=>e)).join(", ")} | ${(o||c||"Brak danych").slice(0,4)}</span>\n        </li>\n        `})).join("");return e.insertAdjacentHTML("beforeend",c)}o(1).then(r).catch((e=>console.error(e)));const c=document.querySelector(".movie-gallery"),i=document.querySelector(".search-form__input");document.querySelector(".search-form__button").addEventListener("click",(async function(e){e.preventDefault();const t=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=50faffa66bb05e881b7f3de0b265b30c&query=${i.value}&page=1`),n=await t.json();return o(i.value).then(r(n.results)).catch((e=>{c.innerHTML="",alert("No results")})).finally(c.innerHTML=""),c.innerHTML=n.query[0]}));(()=>{const e={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};e.closeModalBtn.addEventListener("click",(function(){e.modal.classList.toggle("is-hidden")}))})();
//# sourceMappingURL=index.433036ed.js.map
